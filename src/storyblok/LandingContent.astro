---
import { storyblokEditable } from "@storyblok/astro";
import StoryblokComponent from "@storyblok/astro/StoryblokComponent.astro";

const { blok } = Astro.props;
---

<section {...storyblokEditable(blok)} class="container mx-auto px-4 py-12">
    <h1 class="text-4xl font-extrabold mb-10 text-center">{blok.title}</h1>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
        {
            blok.items?.map((nestedBlok) => (
                <div class="card-item" key={nestedBlok._uid}>
                    <StoryblokComponent blok={nestedBlok} />
                </div>
            ))
        }
    </div>
    <script is:client>
        const cards = document.querySelectorAll(".card-item");
        gsap.from(cards, {
            opacity: 0,
            y: 50,
            stagger: 0.15,
            duration: 0.8,
            ease: "power3.out",
        });
    </script>
</section>
